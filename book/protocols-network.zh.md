
## 网络简化

联网意味着在因特网上的两个端点之间进行通信. 互联网只是一堆相互连接的机器(计算机),每个都使用自己的私有地址(称为IP地址).每个机器的地址可以是不同类型的,机器甚至可以有临时地址.这些计算机通常被称为主机.

你面前的电脑、平板电脑或电话通常被称为"客户端",你想与之交换数据的机器被称为"服务器". 客户端和服务器之间的主要区别在于它们在这里所扮演的角色.没有什么可以阻止角色在后续操作中被反转.

### 哪一台机器

当您想要启动到外面的机器之一(服务器)的传输时,您通常不知道它的IP地址,但是您通常知道它的名称.当您使用curl时,您将交谈的机器名称嵌入您使用的URL中.

你可以使用一个URL,比如"[http://example.com/index.html](http://example.com/index.html"), 这意味着您将连接到名为example.com 的主机并进行通信.

### 主机名称解析

一旦我们知道主机名称,我们需要找出主机的IP地址,以便我们可以联系它.

将名称转换为IP地址通常称为"名称解析".该名称被"解析"到一组地址.这通常是由一个"DNS服务器"完成的, DNS就像一个大的查找表,可以把名字转换成地址——互联网上的所有名字.您的计算机通常已经知道运行DNS服务器的计算机的地址,因为这是建立网络的一部分.

因此,curl将询问DNS服务器:"您好,请给我所有的地址,例如 `example.com`",服务器将给出它们的列表.或者在拼写错误的情况下,它可以回答这个名字不存在.

### 建立联系

对于主机的curl想要联系的IP地址列表,curl发出一个"连接请求". 要建立的连接curl称为`TCP`,它的工作原理类似于在两个计算机之间连接不可见的字符串.一旦建立,它就可以用于在两个方向上发送数据流.

当curl获得主机的地址列表时,它将在实际连接时,遍历该地址列表,并且万一连接失败,它将尝试连接到下一个地址,直到其中一个工作或者全部失败.

### 连接到"端口-port号"

当与TCP连接到远程服务器时,客户端选择哪个端口号来执行.端口号只是特定服务的专用位置,它允许同一服务器同时监听其他端口号上的其他服务.

大多数常用协议具有客户端和服务器使用的默认端口号.例如,当使用"[http://example.com/index.html](http://example.com/index.html)URL指定了一个名为"http"的方案, 默认情况下, 它告诉客户端应该对服务器的TCP端口号80进行尝试. URL可以选择性地提供另一个定制的端口号,但是如果没有指定任何特殊端口,那么它将使用URL中使用的方案的默认端口.

### TLS

在TCP连接建立之后,许多传输将需要双方在继续之前,协商一个更好的安全级别,这通常是TLS;传输层安全性 **Transport Layer Security** .如果使用了,客户端和服务器将首先执行TLS握手,如果成功,则只继续进行进一步的握手.

### 传输数据

当我们调用TCP的连接"字符串"通到远程计算机上时(我们已经完成了可能附加的TLS握手),两台机器之间建立了连接,然后该连接可用于交换数据.这种通信是使用"协议"来完成的,正如下面章节所讨论的.
