
## 样式和代码要求

具有通用样式的源代码,比在不同位置使用不同样式的代码更容易读取.它有助于使代码感觉像一个连续的代码库.易读性是代码中非常重要的属性,有助于在添加新东西时更容易进行评审,并且在开发人员试图找出问题出错原因时,有助于调试代码.一个统一的风格比个人的贡献更重要.

我们的C代码有一些样式规则.大多数都是由`lib/checksrc.pl`脚本验证和维护的.调用`make checksrc`或者甚至在构建后默认构建系统`./configure --enable-debug`已被使用.

对于任何人来说,遵循这些指导原则通常是没有问题的,因为您只需要复制源代码中已经使用的样式,在我们的规则集中没有特别不寻常的规则.

我们还努力编写无警告的代码, 可在所有主要平台和尽可能多的一般平台上. 显然引起警告的代码将不会被接受.

一些你不允许被打破的规则是:

### Indentation-缩进

我们只使用缩进空格,从不使用Tab.我们使用两个空格为每一个新的缩进.

### Comments-注释

因为我们写C89代码,`//`不允许.它们直到 C99 才被引入C标准中.我们只使用 `/*` 和 `*/`评论:

```
/* this is a comment */
```

### Long lines-长度

cURL中的源代码可能永远不会超过80列.即使在现代的大屏幕和高分辨率屏幕中也有两个原因:

1.  较窄的列比宽的列更容易阅读.报纸使用了几十年或几个世纪的报纸是有原因的.

2.  窄列允许开发人员在不同的窗口中,更容易地查看彼此相邻的多个代码.我通常有两个或三个源代码窗口相邻在同一屏幕上,以及多个终端和调试窗口.

### 左括号同一行

在`if/while/do/for`表达式中,我们在与关键字相同的行上,写开括号,然后将闭括号设置为与初始关键字相同的缩进级别.这样地:

```
if(age < 40) {
  /* clearly a youngster */
}
```

### 其他的在在下面的行

使用括号中的条件表达式,添加一个`else`子句. 在关闭括号之后,将其添加到新行上.这样:

```
if(age < 40) {
  /* clearly a youngster */
}
else {
  /* probably intelligent */
}
```

### 括号前没有空格

当使用`if/while/do/for`表达式时,关键字和开放括号之间不存在空格.这样地:

```
while(1) {
  /* loop forever */
}
```
