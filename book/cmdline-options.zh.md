## 命令行选项

当告诉 curl 执行某些操作时,您可以使用零、一个或多个命令行选项来调用 curl,以伴随您希望传输的 URL 或 URL 集合.cURL 支持超过二百种不同的选项.

### 短选项

命令行选项传递信息,以解释您希望它如何运行.就像你可以用`-v`选项让 CURL 来切换日志模式:

```
curl -v http://example.com
```

`-v`在这里被用作"短选项".你写负号和一个字母紧跟其后.许多选项仅仅是开关,在两个已知状态{`true/false`}之间切换或改变某些东西.它们可以和那个选项名一起使用.然后,你也可以在`-`后,组合几个单字母选项.请求日志模式,并让 curl 遵循 HTTP 重定向:

```
curl -vL http://example.com
```

curl 中的命令行解析器总是解析整个行,您可以将选项放在您喜欢的任何地方;它们也可以出现在 URL 之后:

```
curl http://example.com -Lv
```

当然,这两个独立的短选项也可以单独指定,例如:

```
curl -v -L http://example.com
```

### 长选项

单字母选项很方便,因为它们可以快速地编写和使用,但是由于字母表中只有有限数量的字母,而有许多东西需要控制,所以并非所有选项都像这样可用.因此,提供了长选项名称.此外,为了方便和允许脚本变得更可读,大多数短选项具有较长的名称别名.

长选项总是用*二个*减号(或*破折号*),然后,你只能没两个减号加一个选项名称.使用长选项格式请求日志模式看起来像:

```
curl --verbose http://example.com
```

并且要求使用长格式的 HTTP 重定向看起来像:

```
curl --verbose --location http://example.com
```

### 选项的参数

并非所有选项都只是启用或禁用特性的简单布尔标志.对于其中一些,您需要传递数据,比如用户名或文件路径.你先写这个选项,然后用一个空格分隔这个参数.例如,如果您想在 HTTP POST 中,向服务器发送任意数据串:

```
curl -d arbitrary http://example.com
```

即使你使用了选项的长形式,它也能起到同样的作用:

```
curl --data arbitrary http://example.com
```

当使用带有参数的短选项时,实际上,也可以在没有空间分隔符的情况下写入数据:

```
curl -darbitrary http://example.com
```

### 带空格的参数

有时你想把一个参数传递给一个选项,并且该参数包含一个或多个空格.例如,您希望 curl 更精确地 设置用户代理字段`I am your father`,包括这三个空间.然后,当你把它传给命令行上的 cURL 时,需要在字符串周围放置`引号`.根据不同 shell/命令提示使用的正确引号, 但一般情况下在大多数地方使用双引号:

```
curl -A "I am your father" http://example.com
```

若没有使用引号,你会写这样的命令行 ❌:

```
curl -A I am your father http://example.com
```

这让 curl 只使用'I'作为用户代理字符串,而下面的字符串'am'、....等将作为单独的 URL 处理,因为它们没有用`-`说明它们是选项,而 cURL 只处理选项和 URL.

为了让字符串本身包含双引号(例如,当您想要将一个 JSON 字符串发送到服务器时,这很常见),您可能需要使用单引号(除了在 Windows 上单引号工作方式不同).发送 JSON 字符串`{ "name": "Darth" }`:

```
curl -d '{ "name": "Darth" }' http://example.com
```

或者,如果希望避免使用单引号,您可能希望通过文件将数据发送到 curl,这样就不需要额外的引号 .假设我们调用包含上述数据的文件"json":

```
curl -d @json http://example.com
```

### 否定选择

对于开关的选项,还有一种方法可以把它关掉.然后,使用该选项的长形式,在名称之前,加上一个初始的"no-"前缀.例如,关闭日志模式:

```
curl --no-verbose http://example.com
```
