
# 文件传输协议

文件传输协议FTP可能是curl支持的最古老的网络协议,它创建于20世纪70年代初.[RFC 959](https://www.ietf.org/rfc/rfc959.txt)从1985开始,在第一次卷发前10年发表.

FTP是在互联网和计算机的不同时代创建的,因此它的工作方式与其他大多数协议稍有不同.这些差异常常可以忽略,事情就会正常运转,但是在事情不按计划运行的时候,了解这些差异也很重要.

## 乒乓球

FTP协议是一个命令和响应协议,客户端发送命令,服务器响应.如果你使用cURL`-v`选项,您将看到在转移过程中的所有命令和响应.

对于普通传输,有5到8个命令需要发送,以及等待和读取的响应.也许不必说,如果服务器位于远程位置,那么在设置和开始实际文件传输之前,将会有很多时间等待ping通过.对于小文件,初始命令可以比实际的数据传输花费更长的时间.

## 传输模式

当FTP客户端将要传输数据时,它向服务器指定要使用即将到来的传输的"传输模式".CURL支持的两种传输模式是"ASCII"和"二进制".Ascii主要用于文本,通常意味着服务器将用转换后的换行来发送文件,而二进制意味着发送数据不变,并且假定文件不是文本.

cURL将默认为二进制传输模式的FTP,而你要求ASCII模式,而不是`-B, --use-ascii`或者通过确保URL结束`;type=A`.

## 认证

FTP是通常不访问用户名和密码的协议之一.对于那些允许"匿名"FTP访问的系统来说,你可以用你喜欢的任何名字和密码登录.当在FTP URL上使用CURL进行传输时,没有任何给定的用户名或密码,它使用该名称.`anonymous`带密码`ftp@example.com`.

如果您想提供另一个用户名和密码,您可以将它们传递到cURL.`-u, --user`选项或嵌入在URL中的信息:

CURL——用户丹尼尔:秘密ftp://Expul.com/下载

cURLFTP://丹尼尔:CelpTyExcel
