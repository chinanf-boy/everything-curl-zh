
# 从源头构建

CURL项目创建可以生成两个产品CURL和libcurl的源代码.从源代码到二进制文件的转换通常被称为"构建".你从源建立cURL和libcurl.

cURL项目根本不提供任何构建的二进制文件,它只传送源代码.这些二进制文件可以在cURL网络的下载页面上找到,也可以从互联网上的其他地方安装,这些二进制文件都是由其他友好的人和组织构建并提供给世界的.

源代码由大量包含C代码的文件组成.一般来说,相同的文件集用于为curl支持的所有平台和计算机体系结构构建二进制文件.cURL可以建立和运行在大量不同的平台上.如果您自己使用一个罕见的操作系统,那么从源代码构建curl可能是获得curl的最简单或者唯一的方法.

使cURL变得容易是cURL项目的首要任务,虽然我们不一定总是成功的!

## GITS与TARBOARS

当释放TayBar时,生成一些文件并包含在最终发布文件中.这些生成的文件不存在于Git存储库中,因为它们是生成的,不需要将它们存储在Git中.

所以,如果你想从Git中创建cURL,你需要在生成之前自己生成一些文件.在Linux和UNIX系统中,通过运行`./buildconf`在你运行的窗口上`buildconf.bat`.

## Linux与类UNIX系统的研究

在Linux和其他类似UNIX的系统上构建cURL有两种截然不同的方式.有一个使用配置脚本,还有CMake方法.

有两种不同的建筑环境来满足人们不同的意见和品味.基于配置的构建可以说是更成熟和更完整的构建系统,并且应该被认为是默认的构建系统.

### 自动工具

"AutoToo工具"是一组不同的工具,它们一起使用来生成`configure`脚本.配置脚本是由想要构建cURL的用户运行的,它做了一大堆事情:

-   它检查系统中的特征和功能.

-   它提供命令行选项,以便您作为建造者可以决定在构建中启用和禁用的内容.特征和协议等,可以切换开/关.甚至编译器警告级别等等.

-   它提供了命令行选项,让构建器指向可用于构建curl的各种第三方依赖项的特定安装路径.

-   指定在最终生成并调用"make install"时,生成的安装应该放置在哪个文件路径上

在最基本的用法中,只需运行`./configure`在源目录中就足够了.剧本完成后,它将被检测出什么选项启用和禁用总结仍有什么特征,他们中的一些人可能因为没有检测必要的第三方关系,这些功能需要的存在.

然后你调用`make`建造整个东西`make
install`安装cURL,cURL和相关的东西.`make install`需要在您的系统中创建和安装目录下的文件写的或者你会得到一些错误你有正确的权利.

### 交叉编译

交叉编译意味着在一个体系结构上构建源,但输出被创建为在不同的架构上运行.例如,您可以在Linux机器上构建源代码,但要使输出工作在Windows计算机上运行.

交叉编译工作,你需要一个专门的编译器和编译系统设置为特定目标的系统,你想建立.如何获得和安装该系统不包括在这本书中.

一旦你有了一个交叉编译器,可以指导配置使用编译器而不是"本土"编译时建立卷这样的最终结果可以搬过去,其他的机器.

### 克苏

TBD

### 静态链接

TBD

## 在Windows上

TBD

### 制作

TBD

### 克苏

TBD

### 其他编译器

TBD

## 关于其他系统

TBD

## 将cURL移植到不支持的系统

TBD

## 选择TLS后端

基于配置的构建提供了用户在构建时从各种不同的TLS库中选择的方法.通过使用正确的命令行选项来选择它们.

默认OpenSSL配置检查也将检测和使用BurnStl或LiBRSL.

-   BoringSSL:默认情况下
-   GnuTLS:`--without-ssl --with-gnutls`.
-   NSS:`--without-ssl --with-nss`
-   OpenSSL:-默认情况下
-   PolarSSL:`--without-ssl --with-polarssl`
-   Wolfssl:`--without-ssl --with-wolfssl`
-   LBRESL:默认情况下
-   姆贝特尔斯:`--without-ssl --with-mbedtls`
-   schannel:`--without-ssl --with-winssl`
-   安全传输:`--with-winssl --with-darwinssl`

所有的`--with-*`选项还允许您提供安装前缀,以便配置将搜索您所告诉它的特定库.
